<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login ‚Ä¢ Indizi d'Amore</title>
<style>
  :root{
    /* Palette femminile/pastello */
    --bg:#fff6fb; --ink:#3a2a35; --muted:#7a6571;
    --card:#ffffff; --stroke:#f3d4e6;
    --accent:#ff8dc7; --accent2:#c59eff; --good:#34d399; --bad:#ff6b88;
    --btn:#ffe3ec;
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    color:var(--ink); background:
      radial-gradient(900px 600px at 100% -10%, #ffe9f5 0%, transparent 60%),
      radial-gradient(700px 500px at -10% 120%, #f3e9ff 0%, transparent 60%),
      var(--bg);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .login-container{
    max-width: 500px;
    width: 100%;
    padding: 20px;
  }
  .card{
    background:var(--card); border:1px solid var(--stroke); border-radius:16px; padding:24px;
    box-shadow:0 10px 24px rgba(197,158,255,.12);
  }
  h1{margin:0 0 8px; font-size:28px; text-align:center; color:var(--accent)}
  .subtitle{text-align:center; color:var(--muted); margin-bottom:24px}
  .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin-bottom:16px}
  input[type="text"], input[type="password"]{
    background:#fff; color:var(--ink); border:1px solid var(--stroke);
    border-radius:12px; padding:12px 14px; font-size:16px; flex:1; min-width:200px; outline:none;
  }
  button{
    background:var(--btn); border:1px solid var(--stroke); color:var(--ink);
    border-radius:12px; padding:12px 16px; font-size:15px; cursor:pointer; transition:.2s transform;
  }
  button:hover{transform:translateY(-1px)}
  button.primary{
    background:var(--accent); color:white; border-color:var(--accent);
  }
  .hint{color:var(--muted); font-size:14px; margin-top:8px; padding:12px; background:#fff0f7; border-radius:8px; border-left:3px solid var(--accent2)}
  .status{margin-top:10px; font-weight:700; text-align:center}
  .ok{color:var(--good)} .no{color:var(--bad)}
  .rebus-card{
    background:#fff0f7; margin:20px 0; border:2px dashed var(--accent2); border-radius:12px; padding:20px;
  }
  .rebus-title{
    margin-top:0; color:var(--accent); font-size:18px; text-align:center;
  }
  .rebus-content{
    font-size:18px; line-height:1.8; text-align:center; font-family:ui-monospace;
  }
  .rebus-hint{
    margin:8px 0; font-size:14px; color:var(--muted); text-align:center;
  }
</style>
</head>
<body>
<div class="login-container">
  <div class="card">
    <h1>üîê Accesso agli Enigmi</h1>
    <p class="subtitle">Risolvi il rebus matematico per scoprire le credenziali</p>
    
    <div class="rebus-card">
      <h3 class="rebus-title">üßÆ Rebus Matematico</h3>
      <div class="rebus-content">
        <div><strong>Username:</strong> 2¬≤ + 3¬≤ + 4¬≤ = ?</div>
        <div class="rebus-hint">Calcola e trova la parola italiana di 5 lettere che rappresenta questo sentimento</div>
        <div><strong>Password:</strong> Anno corrente</div>
      </div>
    </div>
    
    <form id="loginForm">
      <div class="row">
        <input id="username" type="text" placeholder="Username (5 lettere)" maxlength="10" autocomplete="off" required />
        <input id="password" type="password" placeholder="Password (4 cifre)" maxlength="4" autocomplete="off" required />
      </div>
      <div class="row" style="justify-content:center; gap:12px">
        <button type="submit" class="primary">Accedi</button>
        <button type="button" id="showHint">Mostra indizio</button>
      </div>
    </form>
    
    <div class="hint" id="hint" style="display:none;">
      üí° <strong>Indizio:</strong> 2¬≤=4, 3¬≤=9, 4¬≤=16 ‚Üí 4+9+16=29. Cerca una parola italiana di 5 lettere che rappresenta un sentimento profondo. La password √® l'anno in cui stiamo vivendo.
    </div>
    <div class="status" id="status"></div>
  </div>
</div>

<script>
const $ = sel => document.querySelector(sel);
const norm = s => (s||"").toString().trim().toLowerCase()
  .replaceAll("√©","e").replaceAll("√®","e").replaceAll("√†","a").replaceAll("√≤","o").replaceAll("√π","u");

function login(username, password){
  // Username: 2¬≤ + 3¬≤ + 4¬≤ = 4 + 9 + 16 = 29 ‚Üí "amore" (love in Italian)
  // Password: current year
  const currentYear = new Date().getFullYear().toString();
  
  if(username === "amore" && password === currentYear){
    return true;
  }
  return false;
}

// Form submission
$("#loginForm").addEventListener("submit", (e) => {
  e.preventDefault();
  
  const username = norm($("#username").value);
  const password = $("#password").value;
  const status = $("#status");
  
  if(login(username, password)){
    status.innerHTML = `<span class="ok">Accesso riuscito! üéâ Reindirizzamento...</span>`;
    setTimeout(() => {
      window.location.href = "vienna.html";
    }, 1500);
  } else {
    status.innerHTML = `<span class="no">Credenziali errate. Riprova!</span>`;
    $("#password").value = ""; // Clear password field
    $("#password").focus();
  }
});

// Show hint
$("#showHint").addEventListener("click", () => {
  const hint = $("#hint");
  hint.style.display = hint.style.display === "none" ? "block" : "none";
});

// Enter key navigation
$("#username").addEventListener("keydown", e => {
  if(e.key === "Enter") {
    e.preventDefault();
    $("#password").focus();
  }
});

$("#password").addEventListener("keydown", e => {
  if(e.key === "Enter") {
    e.preventDefault();
    $("#loginForm").dispatchEvent(new Event('submit'));
  }
});

// Focus on username field when page loads
window.addEventListener('load', () => {
  $("#username").focus();
});
</script>
</body>
</html>
