<!doctype html>
<html lang="it">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login ‚Ä¢ Indizi d'Amore</title>
<style>
  :root{
    /* Palette femminile/pastello */
    --bg:#fff6fb; --ink:#3a2a35; --muted:#7a6571;
    --card:#ffffff; --stroke:#f3d4e6;
    --accent:#ff8dc7; --accent2:#c59eff; --good:#34d399; --bad:#ff6b88;
    --btn:#ffe3ec;
  }
  *{box-sizing:border-box}
  body{
    margin:0; 
    font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    color:var(--ink); 
    background:
      radial-gradient(900px 600px at 100% -10%, #ffe9f5 0%, transparent 60%),
      radial-gradient(700px 500px at -10% 120%, #f3e9ff 0%, transparent 60%),
      var(--bg);
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    font-feature-settings: 'kern' 1, 'liga' 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  .login-container{
    max-width: 500px;
    width: 100%;
    padding: 20px;
  }
  .card{
    background:var(--card); border:1px solid var(--stroke); border-radius:16px; padding:28px;
    box-shadow:0 10px 24px rgba(197,158,255,.12);
    font-weight: 400;
    line-height: 1.6;
  }
  h1{
    margin:0 0 12px; 
    font-size:32px; 
    font-weight: 600;
    text-align:center; 
    color:var(--accent);
    letter-spacing: -0.02em;
  }
  .subtitle{
    text-align:center; 
    color:var(--muted); 
    margin-bottom:28px;
    font-size: 16px;
    font-weight: 400;
  }
  .row{
    display:flex; 
    gap:12px; 
    flex-wrap:wrap; 
    align-items:center; 
    margin-bottom:20px;
  }
  input[type="text"], input[type="password"]{
    background:#fff; 
    color:var(--ink); 
    border:1px solid var(--stroke);
    border-radius:12px; 
    padding:14px 16px; 
    font-size:16px; 
    font-family: inherit;
    font-weight: 400;
    flex:1; 
    min-width:200px; 
    outline:none;
    transition: border-color 0.2s ease;
  }
  input[type="text"]:focus, input[type="password"]:focus{
    border-color: var(--accent);
  }
  button{
    background:var(--btn); 
    border:1px solid var(--stroke); 
    color:var(--ink);
    border-radius:12px; 
    padding:14px 20px; 
    font-size:15px; 
    font-family: inherit;
    font-weight: 500;
    cursor:pointer; 
    transition:all 0.2s ease;
  }
  button:hover{
    transform:translateY(-1px);
    box-shadow: 0 4px 12px rgba(255, 141, 199, 0.2);
  }
  button.primary{
    background:var(--accent); 
    color:white; 
    border-color:var(--accent);
    font-weight: 600;
  }
  .hint{
    color:var(--muted); 
    font-size:14px; 
    margin-top:12px; 
    padding:16px; 
    background:#fff0f7; 
    border-radius:12px; 
    border-left:4px solid var(--accent2);
    font-weight: 400;
    line-height: 1.5;
  }
  .status{
    margin-top:16px; 
    font-weight:600; 
    text-align:center;
    font-size: 16px;
  }
  .ok{color:var(--good)} 
  .no{color:var(--bad)}
  .rebus-card{
    background:#fff0f7; 
    margin:24px 0; 
    border:2px dashed var(--accent2); 
    border-radius:16px; 
    padding:24px;
  }
  .rebus-title{
    margin-top:0; 
    color:var(--accent); 
    font-size:20px; 
    font-weight: 600;
    text-align:center;
    letter-spacing: -0.01em;
  }
  .rebus-content{
    font-size:18px; 
    line-height:1.8; 
    text-align:center; 
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', 'Source Code Pro', monospace;
    font-weight: 500;
  }
  .rebus-hint{
    margin:12px 0; 
    font-size:15px; 
    color:var(--muted); 
    text-align:center;
    font-weight: 400;
  }
</style>
</head>
<body>
<div class="login-container">
  <div class="card">
    <h1>üîê Accesso agli Enigmi</h1>
    <p class="subtitle">Risolvi il rebus matematico per scoprire le credenziali</p>
    
    <div class="rebus-card">
      <h3 class="rebus-title">üßÆ Rebus Matematico</h3>
      <div class="rebus-content">
        <div><strong>Username:</strong> (‚àö(64) + 2) - (7 √ó 1) + (2 √∑ 1) = ?</div>
        <div class="rebus-hint">Risolvi passo per passo: prima le radici e moltiplicazioni, poi le sottrazioni e divisioni</div>
        <div><strong>Password:</strong> Anno corrente</div>
      </div>
    </div>
    
    <form id="loginForm">
      <div class="row">
        <input id="username" type="text" placeholder="Username" maxlength="10" autocomplete="off" required />
        <input id="password" type="password" placeholder="Password" maxlength="4" autocomplete="off" required />
      </div>
      <div class="row" style="justify-content:center; gap:12px">
        <button type="submit" class="primary">Accedi</button>
        <button type="button" id="showHint">Mostra indizio</button>
      </div>
    </form>
    
    <div class="hint" id="hint" style="display:none;">
      üí° <strong>Indizio:</strong> ‚àö(64)=8, quindi: (8+2) - (7√ó1) + (2√∑1) = 10 - 7 + 2 = 5. Perfetto! Il risultato √® 5. Cerca un nome proprio di 5 lettere che rappresenti questo numero.
    </div>
    <div class="status" id="status"></div>
  </div>
</div>

<script>
const $ = sel => document.querySelector(sel);
const norm = s => (s||"").toString().trim().toLowerCase()
  .replaceAll("√©","e").replaceAll("√®","e").replaceAll("√†","a").replaceAll("√≤","o").replaceAll("√π","u");

function login(username, password){
  // Username: (‚àö(64) + 2) - (7 √ó 1) + (2 √∑ 1) = (8+2) - 7 + 2 = 10 - 7 + 2 = 5 ‚Üí "Cilla" (nome proprio)
  // Il numero 5 pu√≤ essere associato a "cinque" che foneticamente richiama "Cilla"
  // Password: current year
  const currentYear = new Date().getFullYear().toString();
  
  if(username === "cilla" && password === currentYear){
    return true;
  }
  return false;
}

// Form submission
$("#loginForm").addEventListener("submit", (e) => {
  e.preventDefault();
  
  const username = norm($("#username").value);
  const password = $("#password").value;
  const status = $("#status");
  
  if(login(username, password)){
    status.innerHTML = `<span class="ok">Accesso riuscito! üéâ Reindirizzamento...</span>`;
    setTimeout(() => {
      window.location.href = "vienna.html";
    }, 1500);
  } else {
    status.innerHTML = `<span class="no">Credenziali errate. Riprova!</span>`;
    $("#password").value = ""; // Clear password field
    $("#password").focus();
  }
});

// Show hint
$("#showHint").addEventListener("click", () => {
  const hint = $("#hint");
  hint.style.display = hint.style.display === "none" ? "block" : "none";
});

// Enter key navigation
$("#username").addEventListener("keydown", e => {
  if(e.key === "Enter") {
    e.preventDefault();
    $("#password").focus();
  }
});

$("#password").addEventListener("keydown", e => {
  if(e.key === "Enter") {
    e.preventDefault();
    $("#loginForm").dispatchEvent(new Event('submit'));
  }
});

// Focus on username field when page loads
window.addEventListener('load', () => {
  $("#username").focus();
});
</script>
</body>
</html>
